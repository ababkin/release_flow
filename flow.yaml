tests:
  - name: Blank State
    spec:
      input:
        tags:
          - 1.2.3-rc3
          - release/1.2.3-rc3
      userInput:
        - question: "Choose your adventure: Start new release (0), Start hotfix (1)"
          answer: "0"
      output:
        - "git tags"
        - "git branch"
      stderr: 
        - "Program Error: Could not find latest green tag"


  - name: Hotfix in Progress
    tests:
      spec:
        input:
          tags:
            - 1.2.3-rc3
            - release/1.2.3-rc3
            - ci-123

      - name: Hotfix Completed
        spec:
          input: 
            userInput:
              - question: "Choose your adventure: Start new release (0), Start hotfix (1)"
                answer: "0"
          output:
            - "git tags"
            - "git branch"
            - "git checkout ci/123"
            - "git tag release/1.3.0-rc1"
            - "git push origin --tags"
          stdout: 
            - "Started new release: release/1.3.0-rc1, deploy to preproduction and confirm the release is good to go!"

      - name: Hotfix Not Completed
        spec:
          input:
            userInput:
              - question: "Choose your adventure: Start new release (0), Start hotfix (1)"
                answer: "0"
          output:
            - "git tags"
            - "git branch"
            - "git checkout ci/123"
            - "git tag release/1.3.0-rc1"
            - "git push origin --tags"
          stdout:
            - "Started new release: release/1.3.0-rc1, deploy to preproduction and confirm the release is good to go!"

  - name: No Release In Progress
    tests:
      spec:
        input:
          tags:
            - 1.2.3-rc3
            - release/1.2.3-rc3
            - ci-123

      - name: No Release In Progress Start Release
        spec:
          input:
            userInput:
              - question: "Choose your adventure: Start new release (0), Start hotfix (1)"
                answer: "0"
          output:
            - "git tags"
            - "git branch"
            - "git checkout ci/123"
            - "git tag release/1.3.0-rc1"
            - "git push origin --tags"
          stdout:
            - "Started new release: release/1.3.0-rc1, deploy to preproduction and confirm the release is good to go!"

      - name: No Release In Progress Start Hotfix
        spec:
          input:
            userInput:
              - question: "Choose your adventure: Start new release (0), Start hotfix (1)"
                answer: "0"
          output:
            - "git tags"
            - "git branch"
            - "git checkout ci/123"
            - "git tag release/1.3.0-rc1"
            - "git push origin --tags"
          stdout:
            - "Started new release: release/1.3.0-rc1, deploy to preproduction and confirm the release is good to go!"



